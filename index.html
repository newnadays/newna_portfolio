<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>효정의 포트폴리오</title>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    body {
      font-family: 'Gowun Dodum', sans-serif;
      background-color: #f4f8fc;
      color: #333;
      text-align: center;
      padding: 40px;
    }
    h1, h2 {
      color: #2a5db0;
    }
    .section {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      margin: 40px auto;
      max-width: 800px;
    }
    p {
      font-size: 1.2em;
      margin-top: 10px;
    }
    .project {
      margin-top: 30px;
    }
    .project h3 i {
      margin-right: 8px;
      color: #2a5db0;
    }
    .profile-img {
      width: 100px;
      height: 100px;
      border-radius: 20px;
      margin: 15px auto;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      transition: transform 0.3s ease;
      display: block;
    }
    .profile-img:hover {
      transform: scale(1.2);
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    }
    .intro-card {
      background: #fdf6e8;
      border-radius: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      padding: 30px;
      max-width: 800px;
      margin: 40px auto;
      text-align: center;
    }
    a {
      color: #2a5db0;
      text-decoration: none;
      font-weight: bold;
    }
    a:hover {
      text-decoration: underline;
    }
    .message strong {
      color: #2a5db0;
    }
  </style>
</head>
<body>
  <img src="banner.jpg" alt="뉴나의 배너" style="width: 100%; max-width: 840px; border-radius: 24px; display: block; margin: 0 auto; box-shadow: 0 4px 20px rgba(0,0,0,0.1);" />

  <div class="intro-card">
    <img src="newna_intro.png" alt="뉴나 프로필 사진" class="profile-img" />
    <div style="font-size: 1.2em; color: #2a5db0;">
      <h1>안녕하세요, 뉴나입니다! 💙</h1>
      <p>20년차 워킹맘의 새로운 시작, 내판내짠 포트폴리오입니다.</p>
      <p>이 세상의 모든 여성, 그리고 약자를 응원합니다 💪💙</p>
    </div>
    <img src="newna_community.png" alt="공원에서의 사람들 모습" class="profile-img" />
  </div>

  <div class="section" id="about">
    <h2>About Me</h2>
    <p>20년차 워킹맘이자, 한때는 경력단절을 겪었지만 다시 사회로 한발 내딪었습니다. </p>
    <p>누구보다 치열하게 일하고, 때론 억울했지만 매일매일 '내 판은 내가 짠다'는 다짐으로 하루를 보냅니다.</p>
    <p>현재는 사회복지사가 되기 위해 공부 중이며, 웹퍼블리싱 경험을 살려 포트폴리오 웹사이트도 직접 만들고 있답니다.</p>
    <p>이 공간은 저 뉴나의 이야기와 열정이 담긴 작은 우주입니다. ☕🌏</p>
  </div>

  <div class="section" id="projects">
    <h2>Projects</h2>

    <div class="project">
      <h3><i class="fas fa-pen-nib"></i> 블로그 '뉴나의 하루'</h3>
      <p>워킹맘의 일상과 감정, 사회복지 공부기를 공유하는 따뜻한 공간입니다.</p>
      <p>삶의 억울함과 싸우면서도 유머와 진심을 잃지 않으려는 기록이에요.</p>
      <a href="https://yourblogaddress.com" target="_blank">블로그 보러가기</a>
    </div>

    <div class="project">
      <h3>📌 포트폴리오 웹사이트 만들기</h3>
      <p>웹퍼블리싱 경험을 살려 직접 HTML/CSS로 제작한 첫 웹사이트입니다.</p>
      <p>하루(ChatGPT)와 함께 기획, 코딩, 디자인까지 모든 과정을 기록 중입니다.</p>
    </div>

    <div class="project">
      <h3>📌 사회복지사 2급 자격과정</h3>
      <p>2025년 취득 예정으로, 여성과 노인을 위한 복지에 관심이 많습니다.</p>
      <p>치유와 웰빙, 자연식 기반의 복지 공유홈 공간을 꿈꾸고 있습니다.</p>
    </div>
  </div>

  <div class="section">
    <h2>Contact</h2>
    <p>📧 newna@naver.com</p>
  </div>

  <!-- 방명록 섹션 시작 -->
  <div class="section" id="guestbook">
    <h2>방명록</h2>

    <div style="max-width: 600px; margin: 0 auto; text-align: left;">
      <label for="nickname">닉네임:</label><br />
      <input type="text" id="nickname" placeholder="닉네임을 입력하세요" style="width: 100%; padding: 8px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #ccc;" /><br />

      <label for="message">메시지:</label><br />
      <textarea id="message" placeholder="메시지를 입력하세요" rows="4" style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc;"></textarea
      ><br />

      <button id="submitBtn" style="background-color: #2a5db0; color: white; border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer;">
        전송
      </button>
    </div>

    <div
      id="messages"
      style="max-width: 600px; margin: 20px auto 0; text-align: left; font-size: 1.1em; color: #333;"
    >
      <!-- 방명록 메시지 출력 영역 -->
    </div>
  </div>
  <!-- 방명록 섹션 끝 -->

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCDPK18JOD0qqKU7mVMUSFwkoDaAbuKvuk",
      authDomain: "newna-project.firebaseapp.com",
      databaseURL: "https://newna-project-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "newna-project",
      storageBucket: "newna-project.firebasestorage.app",
      messagingSenderId: "398829933672",
      appId: "1:398829933672:web:29954a15097390f0b897dd",
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    function submitMessage() {
      const nickname = document.getElementById("nickname").value.trim();
      const message = document.getElementById("message").value.trim();

      if (!nickname || !message) {
        alert("닉네임과 메시지를 모두 입력해주세요!");
        return;
      }

      push(ref(db, "guestbook"), {
        nickname,
        message,
        time: Date.now(),
      });

      document.getElementById("nickname").value = "";
      document.getElementById("message").value = "";
    }

    const messagesDiv = document.getElementById("messages");
    const messageList = [];

    onChildAdded(ref(db, "guestbook"), (data) => {
  const entry = data.val();
  const div = document.createElement("div");
  div.className = "message";

  const dateStr = formatDate(entry.time);
  div.innerHTML = `<strong>${entry.nickname}</strong> <span style="font-size: 0.9em; color: #888;">(${dateStr})</span><br>${entry.message}`;

  messageList.unshift(div);
  if (messageList.length > 5) {
    const removed = messageList.pop();
    messagesDiv.removeChild(removed);
  }

  messagesDiv.prepend(div);
});

    document.getElementById("submitBtn").addEventListener("click", submitMessage);
  </script>
</body>
</html>
